{"ast":null,"code":"import _objectSpread from\"/Users/priyanka/Study/MERNProjects/social-media-app-mern/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import{EDIT_REQUEST,EDIT_SUCCESS,EDIT_FAILURE,GET_PROFILE_SUCCESS,GET_PROFILE_REQUEST,GET_PROFILE_FAILURE,UPLOAD_IMAGE,CHANGE_VIEW_MODE,LOGIN_REQUEST,LOGIN_SUCCESS,LOGIN_FAILURE,LOGOUT,DELETE_PROFILE_REQUEST,DELETE_PROFILE_SUCCESS,DELETE_PROFILE_FAILURE,CLEAR_MESSAGE}from\"./userProfileActionTypes\";var initialState={loading:false,successMessage:\"\",errorMessage:\"\",updatedImageFile:null,updatedImageFileURL:\"\",user:{},viewMode:\"view\",token:\"\",isLoggedIn:false};var userProfileReducer=function userProfileReducer(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:initialState;var action=arguments.length>1?arguments[1]:undefined;var type=action.type,payload=action.payload,error=action.error;switch(type){case LOGIN_REQUEST:case EDIT_REQUEST:case GET_PROFILE_REQUEST:case DELETE_PROFILE_REQUEST:return _objectSpread(_objectSpread({},state),{},{loading:true});case LOGIN_SUCCESS:var _payload$data=payload.data,user=_payload$data.user,token=_payload$data.token;return _objectSpread(_objectSpread({},state),{},{loading:false,user:user,isLoggedIn:true,token:token,errorMessage:\"\"});case LOGIN_FAILURE:var errorMessage=\"\";console.log(typeof error.data);if(error.data&&typeof error.data===\"string\")errorMessage=error.data;else errorMessage=error.response.data.message;console.log(errorMessage);return _objectSpread(_objectSpread({},state),{},{loading:false,user:{},isLoggedIn:false,errorMessage:errorMessage});case LOGOUT:localStorage.clear();return _objectSpread(_objectSpread({},state),{},{token:\"\",user:{},isLoggedIn:false});case DELETE_PROFILE_SUCCESS:return _objectSpread(_objectSpread({},state),{},{token:\"\",user:{},isLoggedIn:false,successMessage:payload.data.message});case CHANGE_VIEW_MODE:return _objectSpread(_objectSpread({},state),{},{viewMode:action.payload,updatedImageFile:null,updatedImageFileURL:\"\"});case EDIT_SUCCESS:return _objectSpread(_objectSpread({},state),{},{loading:false,errorMessage:\"\",updatedImageFile:null,updatedImageFileURL:\"\",viewMode:\"view\",user:payload.data.user});case EDIT_FAILURE:return _objectSpread(_objectSpread({},state),{},{loading:false,successMessage:\"\",errorMessage:error.response.data.message,viewMode:\"edit\",updatedImageFile:null,updatedImageFileURL:\"\"});case GET_PROFILE_SUCCESS:return _objectSpread(_objectSpread({},state),{},{loading:false,successMessage:\"\",errorMessage:\"\",user:payload.data.user,imageFilePath:payload.data.user.profilePicPath});case GET_PROFILE_FAILURE:return _objectSpread(_objectSpread({},state),{},{loading:false,successMessage:\"\",user:{},errorMessage:error.data});case UPLOAD_IMAGE:var imageUrl=URL.createObjectURL(payload);return _objectSpread(_objectSpread({},state),{},{updatedImageFile:payload,updatedImageFileURL:imageUrl});case DELETE_PROFILE_FAILURE:return _objectSpread(_objectSpread({},state),{},{loading:false,errorMessage:error.response.data.message});case CLEAR_MESSAGE:return _objectSpread(_objectSpread({},state),{},{successMessage:\"\",errorMessage:\"\"});default:return state;}};export default userProfileReducer;","map":{"version":3,"sources":["/Users/priyanka/Study/MERNProjects/social-media-app-mern/client/src/redux/userProfile/userProfileReducer.js"],"names":["EDIT_REQUEST","EDIT_SUCCESS","EDIT_FAILURE","GET_PROFILE_SUCCESS","GET_PROFILE_REQUEST","GET_PROFILE_FAILURE","UPLOAD_IMAGE","CHANGE_VIEW_MODE","LOGIN_REQUEST","LOGIN_SUCCESS","LOGIN_FAILURE","LOGOUT","DELETE_PROFILE_REQUEST","DELETE_PROFILE_SUCCESS","DELETE_PROFILE_FAILURE","CLEAR_MESSAGE","initialState","loading","successMessage","errorMessage","updatedImageFile","updatedImageFileURL","user","viewMode","token","isLoggedIn","userProfileReducer","state","action","type","payload","error","data","console","log","response","message","localStorage","clear","imageFilePath","profilePicPath","imageUrl","URL","createObjectURL"],"mappings":"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","sourcesContent":["import {\n  EDIT_REQUEST,\n  EDIT_SUCCESS,\n  EDIT_FAILURE,\n  GET_PROFILE_SUCCESS,\n  GET_PROFILE_REQUEST,\n  GET_PROFILE_FAILURE,\n  UPLOAD_IMAGE,\n  CHANGE_VIEW_MODE,\n  LOGIN_REQUEST,\n  LOGIN_SUCCESS,\n  LOGIN_FAILURE,\n  LOGOUT,\n  DELETE_PROFILE_REQUEST,\n  DELETE_PROFILE_SUCCESS,\n  DELETE_PROFILE_FAILURE,\n  CLEAR_MESSAGE,\n} from \"./userProfileActionTypes\";\n\nconst initialState = {\n  loading: false,\n  successMessage: \"\",\n  errorMessage: \"\",\n  updatedImageFile: null,\n  updatedImageFileURL: \"\",\n  user: {},\n  viewMode: \"view\",\n  token: \"\",\n  isLoggedIn: false,\n};\n\nconst userProfileReducer = (state = initialState, action) => {\n  let { type, payload, error } = action;\n  switch (type) {\n    case LOGIN_REQUEST:\n    case EDIT_REQUEST:\n    case GET_PROFILE_REQUEST:\n    case DELETE_PROFILE_REQUEST:\n      return {\n        ...state,\n        loading: true,\n      };\n    case LOGIN_SUCCESS:\n      let { user, token } = payload.data;\n      return {\n        ...state,\n        loading: false,\n        user: user,\n        isLoggedIn: true,\n        token: token,\n        errorMessage: \"\",\n      };\n    case LOGIN_FAILURE:\n      let errorMessage = \"\";\n      console.log(typeof error.data);\n      if (error.data && typeof error.data === \"string\")\n        errorMessage = error.data;\n      else errorMessage = error.response.data.message;\n      console.log(errorMessage);\n\n      return {\n        ...state,\n        loading: false,\n        user: {},\n        isLoggedIn: false,\n        errorMessage: errorMessage,\n      };\n    case LOGOUT:\n      localStorage.clear();\n      return {\n        ...state,\n        token: \"\",\n        user: {},\n        isLoggedIn: false,\n      };\n    case DELETE_PROFILE_SUCCESS:\n      return {\n        ...state,\n        token: \"\",\n        user: {},\n        isLoggedIn: false,\n        successMessage: payload.data.message,\n      };\n    case CHANGE_VIEW_MODE:\n      return {\n        ...state,\n        viewMode: action.payload,\n        updatedImageFile: null,\n        updatedImageFileURL: \"\",\n      };\n    case EDIT_SUCCESS:\n      return {\n        ...state,\n        loading: false,\n        errorMessage: \"\",\n        updatedImageFile: null,\n        updatedImageFileURL: \"\",\n        viewMode: \"view\",\n        user: payload.data.user,\n      };\n    case EDIT_FAILURE:\n      return {\n        ...state,\n        loading: false,\n        successMessage: \"\",\n        errorMessage: error.response.data.message,\n        viewMode: \"edit\",\n        updatedImageFile: null,\n        updatedImageFileURL: \"\",\n      };\n\n    case GET_PROFILE_SUCCESS:\n      return {\n        ...state,\n        loading: false,\n        successMessage: \"\",\n        errorMessage: \"\",\n        user: payload.data.user,\n        imageFilePath: payload.data.user.profilePicPath,\n      };\n    case GET_PROFILE_FAILURE:\n      return {\n        ...state,\n        loading: false,\n        successMessage: \"\",\n        user: {},\n        errorMessage: error.data,\n      };\n    case UPLOAD_IMAGE:\n      let imageUrl = URL.createObjectURL(payload);\n      return {\n        ...state,\n        updatedImageFile: payload,\n        updatedImageFileURL: imageUrl,\n      };\n    case DELETE_PROFILE_FAILURE:\n      return {\n        ...state,\n        loading: false,\n        errorMessage: error.response.data.message,\n      };\n    case CLEAR_MESSAGE:\n      return {\n        ...state,\n        successMessage: \"\",\n        errorMessage: \"\",\n      };\n    default:\n      return state;\n  }\n};\n\nexport default userProfileReducer;\n"]},"metadata":{},"sourceType":"module"}