{"ast":null,"code":"import{jsx as _jsx}from\"react/jsx-runtime\";import _slicedToArray from\"/Users/priyanka/Study/MERNProjects/social-media-app-mern/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import{useDispatch,useSelector}from\"react-redux\";import allActions from\"../redux/allActions\";import ViewOthersProfile from\"../components/ViewOthersProfile\";export default function ViewOthersProfileCon(props){var userid=props.match.params.userid;var _useState=useState(0),_useState2=_slicedToArray(_useState,2),activeTab=_useState2[0],setActiveTab=_useState2[1];var dispatch=useDispatch();var _useSelector=useSelector(function(_ref){var user=_ref.getOthersProfile.user,token=_ref.userProfile.token,_ref$followUnfollow=_ref.followUnfollow,showFollowButton=_ref$followUnfollow.showFollowButton,followingUsers=_ref$followUnfollow.followingUsers;return{user:user,token:token,followingUsers:followingUsers,showFollowButton:showFollowButton};}),user=_useSelector.user,token=_useSelector.token,loggedInUserFollowing=_useSelector.followingUsers,showFollowButton=_useSelector.showFollowButton;var handleTabSelect=function handleTabSelect(tabIndex){setActiveTab(tabIndex);};useEffect(function(){dispatch(allActions.getOthersProfileActions.getOtherUserProfile(\"/user/profile/\".concat(userid),token));return function(){//cleanup\n};},[dispatch,userid,token]);var beingFollowed=isUserBeingFollowed(user._id,loggedInUserFollowing);return/*#__PURE__*/_jsx(ViewOthersProfile,{beingFollowed:beingFollowed,handleTabSelect:handleTabSelect,activeTab:activeTab,token:token,dispatch:dispatch,userid:userid,user:user,showFollowButton:showFollowButton});}function isUserBeingFollowed(userId,loggedInUserFollowing){if(!loggedInUserFollowing)return false;for(var index=0;index<loggedInUserFollowing.length;index++){if(loggedInUserFollowing[index]._id===userId)return true;}return false;}","map":{"version":3,"sources":["/Users/priyanka/Study/MERNProjects/social-media-app-mern/client/src/containers/ViewOthersProfileCon.js"],"names":["React","useState","useEffect","useDispatch","useSelector","allActions","ViewOthersProfile","ViewOthersProfileCon","props","userid","match","params","activeTab","setActiveTab","dispatch","user","getOthersProfile","token","userProfile","followUnfollow","showFollowButton","followingUsers","loggedInUserFollowing","handleTabSelect","tabIndex","getOthersProfileActions","getOtherUserProfile","beingFollowed","isUserBeingFollowed","_id","userId","index","length"],"mappings":"iOAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,OAASC,WAAT,CAAsBC,WAAtB,KAAyC,aAAzC,CACA,MAAOC,CAAAA,UAAP,KAAuB,qBAAvB,CACA,MAAOC,CAAAA,iBAAP,KAA8B,iCAA9B,CAEA,cAAe,SAASC,CAAAA,oBAAT,CAA8BC,KAA9B,CAAqC,IAC5CC,CAAAA,MAD4C,CACjCD,KAAK,CAACE,KAAN,CAAYC,MADqB,CAC5CF,MAD4C,eAEhBR,QAAQ,CAAC,CAAD,CAFQ,wCAE3CW,SAF2C,eAEhCC,YAFgC,eAGlD,GAAIC,CAAAA,QAAQ,CAAGX,WAAW,EAA1B,CAHkD,iBAU9CC,WAAW,CACb,kBACsBW,CAAAA,IADtB,MACEC,gBADF,CACsBD,IADtB,CAEiBE,KAFjB,MAEEC,WAFF,CAEiBD,KAFjB,0BAGEE,cAHF,CAGoBC,gBAHpB,qBAGoBA,gBAHpB,CAGsCC,cAHtC,qBAGsCA,cAHtC,OAIO,CACLN,IAAI,CAAJA,IADK,CAELE,KAAK,CAALA,KAFK,CAGLI,cAAc,CAAdA,cAHK,CAILD,gBAAgB,CAAhBA,gBAJK,CAJP,EADa,CAVmC,CAMhDL,IANgD,cAMhDA,IANgD,CAOhDE,KAPgD,cAOhDA,KAPgD,CAQhCK,qBARgC,cAQhDD,cARgD,CAShDD,gBATgD,cAShDA,gBATgD,CAsBlD,GAAIG,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,CAAAC,QAAQ,CAAI,CAChCX,YAAY,CAACW,QAAD,CAAZ,CACD,CAFD,CAIAtB,SAAS,CAAC,UAAM,CACdY,QAAQ,CACNT,UAAU,CAACoB,uBAAX,CAAmCC,mBAAnC,yBACmBjB,MADnB,EAEEQ,KAFF,CADM,CAAR,CAMA,MAAO,WAAM,CACX;AACD,CAFD,CAGD,CAVQ,CAUN,CAACH,QAAD,CAAWL,MAAX,CAAmBQ,KAAnB,CAVM,CAAT,CAWA,GAAIU,CAAAA,aAAa,CAAGC,mBAAmB,CAACb,IAAI,CAACc,GAAN,CAAWP,qBAAX,CAAvC,CACA,mBACE,KAAC,iBAAD,EACE,aAAa,CAAEK,aADjB,CAEE,eAAe,CAAEJ,eAFnB,CAGE,SAAS,CAAEX,SAHb,CAIE,KAAK,CAAEK,KAJT,CAKE,QAAQ,CAAEH,QALZ,CAME,MAAM,CAAEL,MANV,CAOE,IAAI,CAAEM,IAPR,CAQE,gBAAgB,CAAEK,gBARpB,EADF,CAYD,CAED,QAASQ,CAAAA,mBAAT,CAA6BE,MAA7B,CAAqCR,qBAArC,CAA4D,CAC1D,GAAI,CAACA,qBAAL,CAA4B,MAAO,MAAP,CAC5B,IAAK,GAAIS,CAAAA,KAAK,CAAG,CAAjB,CAAoBA,KAAK,CAAGT,qBAAqB,CAACU,MAAlD,CAA0DD,KAAK,EAA/D,CAAmE,CACjE,GAAIT,qBAAqB,CAACS,KAAD,CAArB,CAA6BF,GAA7B,GAAqCC,MAAzC,CAAiD,MAAO,KAAP,CAClD,CACD,MAAO,MAAP,CACD","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport allActions from \"../redux/allActions\";\nimport ViewOthersProfile from \"../components/ViewOthersProfile\";\n\nexport default function ViewOthersProfileCon(props) {\n  let { userid } = props.match.params;\n  const [activeTab, setActiveTab] = useState(0);\n  let dispatch = useDispatch();\n\n  let {\n    user,\n    token,\n    followingUsers: loggedInUserFollowing,\n    showFollowButton\n  } = useSelector(\n    ({\n      getOthersProfile: { user },\n      userProfile: { token },\n      followUnfollow: { showFollowButton, followingUsers }\n    }) => ({\n      user,\n      token,\n      followingUsers,\n      showFollowButton\n    })\n  );\n  let handleTabSelect = tabIndex => {\n    setActiveTab(tabIndex);\n  };\n\n  useEffect(() => {\n    dispatch(\n      allActions.getOthersProfileActions.getOtherUserProfile(\n        `/user/profile/${userid}`,\n        token\n      )\n    );\n    return () => {\n      //cleanup\n    };\n  }, [dispatch, userid, token]);\n  let beingFollowed = isUserBeingFollowed(user._id, loggedInUserFollowing);\n  return (\n    <ViewOthersProfile\n      beingFollowed={beingFollowed}\n      handleTabSelect={handleTabSelect}\n      activeTab={activeTab}\n      token={token}\n      dispatch={dispatch}\n      userid={userid}\n      user={user}\n      showFollowButton={showFollowButton}\n    />\n  );\n}\n\nfunction isUserBeingFollowed(userId, loggedInUserFollowing) {\n  if (!loggedInUserFollowing) return false;\n  for (let index = 0; index < loggedInUserFollowing.length; index++) {\n    if (loggedInUserFollowing[index]._id === userId) return true;\n  }\n  return false;\n}\n"]},"metadata":{},"sourceType":"module"}