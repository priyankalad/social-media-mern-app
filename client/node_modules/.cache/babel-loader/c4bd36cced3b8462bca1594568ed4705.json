{"ast":null,"code":"import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import _slicedToArray from\"/Users/priyanka/Study/MERNProjects/social-media-app-mern/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from\"react\";import formateDate from\"../utils/formateDate\";import{Link}from\"react-router-dom\";import LikePostCon from\"../containers/LikePostCon\";import CreateCommentCon from\"../containers/CreateCommentCon\";import\"../index.css\";export default function Post(props){var post=props.post,deletable=props.deletable,deletePostHandler=props.deletePostHandler,postId=props.postId,smallLoading=props.smallLoading;var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),modalShow=_useState2[0],setModalShow=_useState2[1];var _useState3=useState(\"none\"),_useState4=_slicedToArray(_useState3,2),modalDisplay=_useState4[0],setModalDisplay=_useState4[1];var postedOn=formateDate(new Date(post.postedOn));var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),viewWholePostImage=_useState6[0],setViewWholePostImage=_useState6[1];var handleShowCommentModal=function handleShowCommentModal(){setModalShow(\"show\");setModalDisplay(\"block\");};var handleHideCommentModal=function handleHideCommentModal(){setModalShow(\"\");setModalDisplay(\"none\");};var viewPostImage=function viewPostImage(){setViewWholePostImage(true);};var closePostImage=function closePostImage(){setViewWholePostImage(false);};var postContent=/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"card\",children:/*#__PURE__*/_jsx(\"div\",{className:\"card-body\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-2\",children:/*#__PURE__*/_jsx(\"img\",{alt:\"Profile Pic\",src:post.postedBy.profilePicPath?post.postedBy.profilePicPath:\"https://social-media-mern-bucket.s3.ap-south-1.amazonaws.com/profilepics/unknown.jpeg\",width:\"60\",height:\"60\",className:\"rounded-circle\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-10\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"col-12\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-weight-bold\",children:/*#__PURE__*/_jsx(Link,{to:\"/profile/\".concat(post.postedBy.id),children:post.postedBy.displayName})}),/*#__PURE__*/_jsx(\"span\",{className:\"ml-2 text-muted\",children:post.postedBy.username}),/*#__PURE__*/_jsx(\"span\",{className:\"ml-2 text-muted small\",children:postedOn})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"row mt-3\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-12\",children:/*#__PURE__*/_jsx(\"p\",{children:/*#__PURE__*/_jsx(Link,{to:{pathname:\"/post/\"+post._id},className:\"text-dark\",style:{textDecoration:\"none\",whiteSpace:\"pre-line\"},children:post.title})})})}),post.postImageUrl?/*#__PURE__*/_jsx(\"div\",{className:\"row mt-2\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-12\",children:/*#__PURE__*/_jsx(\"div\",{onClick:viewPostImage,className:\"postImage\",style:{backgroundImage:\"url(\"+post.postImageUrl+\")\"}})})}):\"\",/*#__PURE__*/_jsxs(\"div\",{className:\"row mt-1 ml-1\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-link pr-2\",onClick:handleShowCommentModal,children:/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-comment-o\",\"aria-hidden\":\"true\"})}),/*#__PURE__*/_jsx(\"span\",{className:\"small text-primary\",children:post.comments.length})]}),/*#__PURE__*/_jsx(\"div\",{className:\"ml-4\",children:/*#__PURE__*/_jsx(LikePostCon,{post:post,liked:post.liked})}),deletable?/*#__PURE__*/_jsx(\"div\",{className:\" text-center my-auto ml-4\",children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-link\",onClick:function onClick(){return deletePostHandler(post._id);},children:/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-trash\",\"aria-hidden\":\"true\"})})}):/*#__PURE__*/_jsx(_Fragment,{}),post._id===postId&&smallLoading?/*#__PURE__*/_jsx(\"div\",{className:\"ml-3\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-spinner fa-2x\",style:{color:\"#007bff\"},\"aria-hidden\":\"true\"})}):\"\"]})]})]})})},post._id),/*#__PURE__*/_jsxs(\"div\",{className:viewWholePostImage?\"wholePostImage\":\"d-none\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"closeWholePostImage\",onClick:closePostImage,children:\"\\xD7\"}),/*#__PURE__*/_jsx(\"img\",{className:\"wholePostImageContent\",src:post.postImageUrl})]})]});return/*#__PURE__*/_jsxs(_Fragment,{children:[modalShow===\"show\"?/*#__PURE__*/_jsx(CreateCommentCon,{post:post,modalShow:modalShow,modalDisplay:modalDisplay,handleHideCommentModal:handleHideCommentModal}):\"\",postContent]});}","map":{"version":3,"sources":["/Users/priyanka/Study/MERNProjects/social-media-app-mern/client/src/components/Post.js"],"names":["React","useState","formateDate","Link","LikePostCon","CreateCommentCon","Post","props","post","deletable","deletePostHandler","postId","smallLoading","modalShow","setModalShow","modalDisplay","setModalDisplay","postedOn","Date","viewWholePostImage","setViewWholePostImage","handleShowCommentModal","handleHideCommentModal","viewPostImage","closePostImage","postContent","postedBy","profilePicPath","id","displayName","username","pathname","_id","textDecoration","whiteSpace","title","postImageUrl","backgroundImage","comments","length","liked","color"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport formateDate from \"../utils/formateDate\";\nimport { Link } from \"react-router-dom\";\nimport LikePostCon from \"../containers/LikePostCon\";\nimport CreateCommentCon from \"../containers/CreateCommentCon\";\nimport \"../index.css\";\nexport default function Post(props) {\n  let { post, deletable, deletePostHandler, postId, smallLoading } = props;\n  const [modalShow, setModalShow] = useState(\"\");\n  const [modalDisplay, setModalDisplay] = useState(\"none\");\n  let postedOn = formateDate(new Date(post.postedOn));\n  let [viewWholePostImage, setViewWholePostImage] = useState(false);\n\n  let handleShowCommentModal = () => {\n    setModalShow(\"show\");\n    setModalDisplay(\"block\");\n  };\n\n  let handleHideCommentModal = () => {\n    setModalShow(\"\");\n    setModalDisplay(\"none\");\n  };\n\n  let viewPostImage = () => {\n    setViewWholePostImage(true);\n  };\n  let closePostImage = () => {\n    setViewWholePostImage(false);\n  };\n\n  let postContent = (\n    <>\n      <div className=\"card\" key={post._id}>\n        <div className=\"card-body\">\n          <div className=\"row\">\n            <div className=\"col-2\">\n              <img\n                alt=\"Profile Pic\"\n                src={\n                  post.postedBy.profilePicPath\n                    ? post.postedBy.profilePicPath\n                    : \"https://social-media-mern-bucket.s3.ap-south-1.amazonaws.com/profilepics/unknown.jpeg\"\n                }\n                width=\"60\"\n                height=\"60\"\n                className=\"rounded-circle\"\n              />\n            </div>\n            <div className=\"col-10\">\n              <div className=\"row\">\n                <div className=\"col-12\">\n                  <span className=\"font-weight-bold\">\n                    <Link to={`/profile/${post.postedBy.id}`}>\n                      {post.postedBy.displayName}\n                    </Link>\n                  </span>\n                  <span className=\"ml-2 text-muted\">\n                    {post.postedBy.username}\n                  </span>\n                  <span className=\"ml-2 text-muted small\">{postedOn}</span>\n                </div>\n              </div>\n              <div className=\"row mt-3\">\n                <div className=\"col-12\">\n                  <p>\n                    <Link\n                      to={{\n                        pathname: \"/post/\" + post._id,\n                      }}\n                      className=\"text-dark\"\n                      style={{ textDecoration: \"none\", whiteSpace: \"pre-line\" }}\n                    >\n                      {post.title}\n                    </Link>\n                  </p>\n                </div>\n              </div>\n              {post.postImageUrl ? (\n                <div className=\"row mt-2\">\n                  <div className=\"col-12\">\n                    <div\n                      onClick={viewPostImage}\n                      className=\"postImage\"\n                      style={{\n                        backgroundImage: \"url(\" + post.postImageUrl + \")\",\n                      }}\n                    ></div>\n                  </div>\n                </div>\n              ) : (\n                \"\"\n              )}\n              <div className=\"row mt-1 ml-1\">\n                <div>\n                  <button\n                    className=\"btn btn-link pr-2\"\n                    onClick={handleShowCommentModal}\n                  >\n                    <i className=\"fa fa-comment-o\" aria-hidden=\"true\"></i>\n                  </button>\n\n                  <span className=\"small text-primary\">\n                    {post.comments.length}\n                  </span>\n                </div>\n                <div className=\"ml-4\">\n                  <LikePostCon post={post} liked={post.liked} />\n                </div>\n                {deletable ? (\n                  <div className=\" text-center my-auto ml-4\">\n                    <button\n                      className=\"btn btn-link\"\n                      onClick={() => deletePostHandler(post._id)}\n                    >\n                      <i className=\"fa fa-trash\" aria-hidden=\"true\"></i>\n                    </button>\n                  </div>\n                ) : (\n                  <></>\n                )}\n\n                {post._id === postId && smallLoading ? (\n                  <div className=\"ml-3\">\n                    <i\n                      className=\"fa fa-spinner fa-2x\"\n                      style={{ color: \"#007bff\" }}\n                      aria-hidden=\"true\"\n                    ></i>\n                  </div>\n                ) : (\n                  \"\"\n                )}\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <div className={viewWholePostImage ? \"wholePostImage\" : \"d-none\"}>\n        <span className=\"closeWholePostImage\" onClick={closePostImage}>\n          &times;\n        </span>\n        <img className=\"wholePostImageContent\" src={post.postImageUrl} />\n      </div>\n    </>\n  );\n  return (\n    <>\n      {modalShow === \"show\" ? (\n        <CreateCommentCon\n          post={post}\n          modalShow={modalShow}\n          modalDisplay={modalDisplay}\n          handleHideCommentModal={handleHideCommentModal}\n        />\n      ) : (\n        \"\"\n      )}\n      {postContent}\n    </>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}