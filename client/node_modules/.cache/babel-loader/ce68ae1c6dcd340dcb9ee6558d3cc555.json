{"ast":null,"code":"import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import React,{useState}from\"react\";import{Link}from\"react-router-dom\";import formateDate from\"../utils/formateDate\";import CreateCommentCon from\"../containers/CreateCommentCon\";import LikePostCon from\"../containers/LikePostCon\";export default function PostDetail(props){var post=props.post,deletable=props.deletable,deletePostHandler=props.deletePostHandler,postId=props.postId,handleShowCommentModal=props.handleShowCommentModal,handleHideCommentModal=props.handleHideCommentModal,modalDisplay=props.modalDisplay,modalShow=props.modalShow;var postedOn=formateDate(new Date(post.postedOn));return/*#__PURE__*/_jsxs(_Fragment,{children:[modalShow===\"show\"?/*#__PURE__*/_jsx(CreateCommentCon,{post:post,modalShow:modalShow,modalDisplay:modalDisplay,handleHideCommentModal:handleHideCommentModal}):\"\",/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-2\",children:/*#__PURE__*/_jsx(\"img\",{alt:\"Profile Pic\",src:post.postedBy.profilePicPath?post.postedBy.profilePicPath:\"https://social-media-mern-bucket.s3.ap-south-1.amazonaws.com/profilepics/unknown.jpeg\",width:\"60\",height:\"60\",className:\"rounded-circle\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-10\",children:[/*#__PURE__*/_jsx(Link,{to:\"/profile/\".concat(post.postedBy.id),className:\"font-weight-bold\",children:post.postedBy.displayName}),/*#__PURE__*/_jsx(\"div\",{className:\"text-muted\",children:post.postedBy.username})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"row mt-3\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-10 h4\",style:{whiteSpace:\"pre-line\"},children:post.title})}),/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-12\",children:/*#__PURE__*/_jsx(\"img\",{alt:post.tile,src:\"\".concat(post.postImageUrl),style:{width:\"100%\",height:\"300px\",borderRadius:\"30px\"}})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"row mt-2\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-6 text-muted\",children:postedOn}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-6  text-right\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-link pr-1\",onClick:handleShowCommentModal,children:/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-comment-o\",\"aria-hidden\":\"true\"})}),/*#__PURE__*/_jsx(\"span\",{className:\"small text-primary\",children:post.comments.length}),/*#__PURE__*/_jsx(LikePostCon,{post:post,liked:post.liked}),deletable?/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-link ml-3\",onClick:function onClick(){return deletePostHandler(post._id);},children:/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-trash\",\"aria-hidden\":\"true\"})}):/*#__PURE__*/_jsx(_Fragment,{}),post._id===postId?/*#__PURE__*/_jsx(\"div\",{className:\"ml-3\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-spinner fa-2x\",style:{color:\"#007bff\"},\"aria-hidden\":\"true\"})}):\"\"]})]}),post.comments.length>0&&post.comments.map(function(p){var _p$commentedBy=p.commentedBy,id=_p$commentedBy.id,username=_p$commentedBy.username,displayName=_p$commentedBy.displayName,profilePicPath=_p$commentedBy.profilePicPath,commentedOn=p.commentedOn,comment=p.comment;return/*#__PURE__*/_jsxs(\"div\",{className:\"row mt-2 p-2 user-comment\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-2\",children:/*#__PURE__*/_jsx(\"img\",{className:\"rounded-circle\",height:\"50\",width:\"50\",alt:\"Profile Pic\",src:profilePicPath?profilePicPath:\"https://social-media-mern-bucket.s3.ap-south-1.amazonaws.com/profilepics/unknown.jpeg\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-10\",children:[/*#__PURE__*/_jsx(Link,{to:\"/profile/\".concat(id),className:\"font-weight-bold\",children:displayName}),/*#__PURE__*/_jsx(\"span\",{className:\"text-muted\",children:username}),/*#__PURE__*/_jsx(\"div\",{className:\"text-muted\",children:formateDate(new Date(commentedOn))}),/*#__PURE__*/_jsx(\"div\",{style:{whiteSpace:\"pre-line\"},children:comment})]})]});})]})]});}","map":{"version":3,"sources":["/Users/priyanka/Study/MERNProjects/social-media-app-mern/client/src/components/PostDetail.js"],"names":["React","useState","Link","formateDate","CreateCommentCon","LikePostCon","PostDetail","props","post","deletable","deletePostHandler","postId","handleShowCommentModal","handleHideCommentModal","modalDisplay","modalShow","postedOn","Date","postedBy","profilePicPath","id","displayName","username","whiteSpace","title","tile","postImageUrl","width","height","borderRadius","comments","length","liked","_id","color","map","p","commentedBy","commentedOn","comment"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport formateDate from \"../utils/formateDate\";\nimport CreateCommentCon from \"../containers/CreateCommentCon\";\nimport LikePostCon from \"../containers/LikePostCon\";\n\nexport default function PostDetail(props) {\n  let {\n    post,\n    deletable,\n    deletePostHandler,\n    postId,\n    handleShowCommentModal,\n    handleHideCommentModal,\n    modalDisplay,\n    modalShow\n  } = props;\n\n  let postedOn = formateDate(new Date(post.postedOn));\n\n  return (\n    <>\n      {modalShow === \"show\" ? (\n        <CreateCommentCon\n          post={post}\n          modalShow={modalShow}\n          modalDisplay={modalDisplay}\n          handleHideCommentModal={handleHideCommentModal}\n        />\n      ) : (\n        \"\"\n      )}\n      <div className=\"container\">\n        <div className=\"row\">\n          <div className=\"col-2\">\n            <img\n              alt=\"Profile Pic\"\n              src={\n                post.postedBy.profilePicPath\n                  ? post.postedBy.profilePicPath\n                  : \"https://social-media-mern-bucket.s3.ap-south-1.amazonaws.com/profilepics/unknown.jpeg\"\n              }\n              width=\"60\"\n              height=\"60\"\n              className=\"rounded-circle\"\n            />\n          </div>\n          <div className=\"col-10\">\n            <Link\n              to={`/profile/${post.postedBy.id}`}\n              className=\"font-weight-bold\"\n            >\n              {post.postedBy.displayName}\n            </Link>\n            <div className=\"text-muted\">{post.postedBy.username}</div>\n          </div>\n        </div>\n        <div className=\"row mt-3\">\n          <div className=\"col-10 h4\" style={{ whiteSpace: \"pre-line\" }}>\n            {post.title}\n          </div>\n        </div>\n        <div className=\"row\">\n          <div className=\"col-12\">\n            <img\n              alt={post.tile}\n              src={`${post.postImageUrl}`}\n              style={{\n                width: \"100%\",\n                height: \"300px\",\n                borderRadius: \"30px\"\n              }}\n            />\n          </div>\n        </div>\n        <div className=\"row mt-2\">\n          <div className=\"col-6 text-muted\">{postedOn}</div>\n          <div className=\"col-6  text-right\">\n            <button\n              className=\"btn btn-link pr-1\"\n              onClick={handleShowCommentModal}\n            >\n              <i className=\"fa fa-comment-o\" aria-hidden=\"true\"></i>\n            </button>\n\n            <span className=\"small text-primary\">{post.comments.length}</span>\n\n            <LikePostCon post={post} liked={post.liked} />\n\n            {deletable ? (\n              <button\n                className=\"btn btn-link ml-3\"\n                onClick={() => deletePostHandler(post._id)}\n              >\n                <i className=\"fa fa-trash\" aria-hidden=\"true\"></i>\n              </button>\n            ) : (\n              <></>\n            )}\n\n            {post._id === postId ? (\n              <div className=\"ml-3\">\n                <i\n                  className=\"fa fa-spinner fa-2x\"\n                  style={{ color: \"#007bff\" }}\n                  aria-hidden=\"true\"\n                ></i>\n              </div>\n            ) : (\n              \"\"\n            )}\n          </div>\n        </div>\n\n        {post.comments.length > 0 &&\n          post.comments.map(p => {\n            let {\n              commentedBy: { id, username, displayName, profilePicPath },\n              commentedOn,\n              comment\n            } = p;\n\n            return (\n              <div className=\"row mt-2 p-2 user-comment\">\n                <div className=\"col-2\">\n                  <img\n                    className=\"rounded-circle\"\n                    height=\"50\"\n                    width=\"50\"\n                    alt=\"Profile Pic\"\n                    src={\n                      profilePicPath\n                        ? profilePicPath\n                        : \"https://social-media-mern-bucket.s3.ap-south-1.amazonaws.com/profilepics/unknown.jpeg\"\n                    }\n                  />\n                </div>\n                <div className=\"col-10\">\n                  <Link to={`/profile/${id}`} className=\"font-weight-bold\">\n                    {displayName}\n                  </Link>\n                  <span className=\"text-muted\">{username}</span>\n                  <div className=\"text-muted\">\n                    {formateDate(new Date(commentedOn))}\n                  </div>\n                  <div style={{ whiteSpace: \"pre-line\" }}>{comment}</div>\n                </div>\n              </div>\n            );\n          })}\n      </div>\n    </>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}